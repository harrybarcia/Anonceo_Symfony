{% extends "base.html.twig" %}

{% block title %}{{ parent() }} | Modification : {{ annonce.titre }}{% endblock %}

{% block h1 %}Modification : {{ annonce.titre }}{% endblock %}

{% block body %}

    <a class="btn btn-info" href="{{ path("mes_annonces") }}">Retour Ã  la gestion des annonces</a>


    {% for notification in app.flashes('success') %}
        <div class="col-md-6 mx-auto text-center alert alert-success">{{ notification }}</div>
    {% endfor %}
    
    <div class="col-md-6 mx-auto">
	<div
		class="col-md-12 mx-auto mt-3">
		{# mon formulaire #}
		{{ form_start(formAnnonce_modif) }}
		<div class="row">

			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto ">
					{{ form_row(formAnnonce_modif.titre) }}
				</div>
			</div>

			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.desc_c) }}
				</div>
			</div>
			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.desc_l) }}
				</div>
			</div>
			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.prix) }}
				</div>
			</div>
			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.adresse) }}
				</div>
			</div>
			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.cp) }}
				</div>
			</div>
			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.ville) }}
				</div>
			</div>

			<div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.categorie) }}
				</div>
			</div>
            {# <div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
					{{ form_row(formAnnonce_modif.photoFile) }}
				</div>
			</div> #}

            {# <div class=" col-md-6 mx-2">
				<div class="col-md-12 mt-3 mx-auto">
                    {{ form_row(formAnnonce_modif.photoFile, {'attr' : {"onChange" : "loadFile(event)"}} ) }}
                <div class="row justify-content-center "> 
                    <div class="col-md-6">
                        <img id="image" 

                            {% if annonce.image %}
                            
                                src="{{ asset("images/imagesUpload/" ~ annonce.image) }}"

                            {% else %}

                                src="{{ asset("images/imageDefault.jpg") }}"

                            {% endif %}
                    
                             style="width:300px">
                    </div>
                    <div class="row justify-content-center ">

                        {% if annonce.image %}
                            <div class="col-md-6">
                            <a href="{{ path('image_annonce_supprimer' , {'id' : annonce.id } ) }}">
                                <img src="{{ asset("images/delete.png")}}" alt="">
                            </a>
                            </div>
                        
                        {% endif %}
                    </div>
                </div>
            
            
        </div> #}
        

        <input type="submit" value="Modifier" class="col-md-12 btn btn-dark mt-3">

        {{ form_end(formAnnonce_modif) }}
		</div>
	</div>

    </div>


{% endblock %}

{% block javascripts %}

<script>

    let loadFile = function(event){
        let image = document.getElementById('image');
        image.src = URL.createObjectURL(event.target.files[0]);
    }
</script>

{% endblock %}


